<ion-header [translucent]="true">
  <ion-toolbar>
    <div class="ion-display-flex align-center gap-0-75 fs-4">
      <i class="fa-light fa-chevron-left"></i>
      <div>Appointment</div>
    </div>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <div class="ion-padding ion-display-flex flex-column gap-2">
    <section class="ion-display-flex align-center gap-1">
      <div><i class="fa-light fa-circle-user fs-13"></i></div>
      <div>
        <div class="fs-4">{{appointmentInfo.name}}</div>
        <div class="fs-2 ion-display-flex align-center secondary-text gap-0-25">
          <span>{{appointmentInfo.type}}</span><span>.</span><span>{{appointmentInfo.time}}</span>
        </div>
      </div>
    </section>
    <section class="ion-display-flex flex-column gap-1">
      <div>
        <div class="fs-3">Allergies</div>
      </div>
      <div class="ion-display-flex gap-1 flex-wrap">
        @for(allergie of allergies;track allergie){
        <div class="allergie-chip fs-2">{{allergie}}</div>
        }
      </div>
    </section>
    <section class="ion-display-flex flex-column gap-1">
      <div>
        <div class="fs-3">Vitals</div>
      </div>
      <div class="ion-display-flex gap-2 flex-wrap">
        <div class="w-40 ion-display-flex gap-0-5 flex-column">
          <div class="fs-3">Blood pressure</div>
          <div class="vital-values fs-2"><span style="color: var(--ion-success-color);">120/80</span>&nbsp;mmHg</div>
        </div>
        <div class="w-40 ion-display-flex gap-0-5 flex-column">
          <div class="fs-3">Heart rate</div>
          <div class="vital-values fs-2"><span style="color: var(--ion-success-color);">72</span>&nbsp;bpm</div>
        </div>
        <div class="w-40 ion-display-flex gap-0-5 flex-column">
          <div class="fs-3">Temperature</div>
          <div class="vital-values fs-2"><span style="color: var(--ion-progress-color);">101.2</span>&nbsp;F</div>
        </div>
        <div class="w-40 ion-display-flex gap-0-5 flex-column">
          <div class="fs-3">SpO2</div>
          <div class="vital-values fs-2"><span style="color: var(--ion-danger-color);">92</span>&nbsp;%</div>
        </div>
        <div class="w-40 ion-display-flex gap-0-5 flex-column">
          <div class="fs-3">Weight</div>
          <div class="vital-values fs-2"><span style="color: var(--ion-success-color);">150</span>&nbsp;lbs</div>
        </div>

      </div>
    </section>
    <section class="ion-display-flex flex-column gap-1">
      <div class="fs-3">
        Clinical notes
      </div>
      <div class="ion-display-flex flex-column gap-2 testing">
        @for(note of clinicalNotes;track $index;let last = $last){
        <div class="ion-display-flex align-center gap-1">
          <div [ngClass]="last ? '' : 'notes-icon'">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
              <g fill="none" stroke="currentColor" stroke-width="1">
                <path
                  d="m20.312 12.647l.517-1.932c.604-2.255.907-3.382.68-4.358a4 4 0 0 0-1.162-2.011c-.731-.685-1.859-.987-4.114-1.591c-2.255-.605-3.383-.907-4.358-.68a4 4 0 0 0-2.011 1.162c-.587.626-.893 1.543-1.348 3.209l-.244.905l-.517 1.932c-.605 2.255-.907 3.382-.68 4.358a4 4 0 0 0 1.162 2.011c.731.685 1.859.987 4.114 1.592c2.032.544 3.149.843 4.064.73q.15-.019.294-.052a4 4 0 0 0 2.011-1.16c.685-.732.987-1.86 1.592-4.115Z" />
                <path
                  d="M16.415 17.974a4 4 0 0 1-1.068 1.678c-.731.685-1.859.987-4.114 1.591s-3.383.907-4.358.679a4 4 0 0 1-2.011-1.161c-.685-.731-.988-1.859-1.592-4.114l-.517-1.932c-.605-2.255-.907-3.383-.68-4.358a4 4 0 0 1 1.162-2.011c.731-.685 1.859-.987 4.114-1.592q.638-.172 1.165-.309" />
                <path stroke-linecap="round" d="m11.777 10l4.83 1.294M11 12.898l2.898.776" />
              </g>
            </svg>
          </div>
          <div>
            <div class="fs-3">{{note.type}}</div>
            <div class="secondary-text fs-1">{{note.date}}</div>
          </div>

        </div>
        }
      </div>
      <div class="ion-display-flex justify-end">
        <button class="add-notes-btn fs-2 text-uppercase fw-600">Add notes</button>
      </div>
    </section>
  </div>
</ion-content>